<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, shrink-to-fit=no" />
  <title>Library Management</title>
  {% load static %} {% include 'Resources/Head.html' %}
  <style>
    @media (max-width: 576px) {
      li {
        width: 100%;
      }
    }

    @media (max-width: 768px) {
      li {
        width: 100%;
      }
    }
  </style>
</head>

<body id="page-top">
  <div id="wrapper">

    {% include 'Resources/Navbar.html' %}


    <!--blocks code  -->
    <div class="d-flex flex-column" id="content-wrapper">
      <div id="content">
        {% include 'Resources/Menu3.html' %}
        <div class="container-fluid">
         
          {% if messages %}
          {% for message in messages %}
          {% if message.tags %}
          <div class="alert alert-{{ message.tags }} alert-dismissible">
            <a href="#" class="close" data-dismiss="alert" aria-label="close">&times;</a>
            <span class="{{ message.tags }} font-weight-bold">{{ message }}</span>
            <br>
            <a type="button" class="btn btn-{{ message.tags }} btn-sm mt-1" href="{% url 'Library:ViewBooks' %}">view books</a>
          </div>
          {% endif %}
          {% endfor %}
          {% endif %}

          <!-- Add book form -->
          <div class="row d-flex align-items-center justify-content-center">
            <div class="col-md-6 col-xl-5 mb-4">
              <div class="card shadow border-left-primary py-2">
                <div class="card-body">
                  <div class="text-uppercase text-primary font-weight-bold text-xs mb-1"><span>Add Book</span></div>
                  <div class="form-group py-4">
                    <form method="POST" action="">
                      <!-- <form method="POST" action="{% url 'Students:Search' %}"> -->
                      {% csrf_token %}
                      {% for field in form %}
                      <label class="control-label col-xs-4 text-uppercase">{{ field.label_tag }}</label>
                      <div class="col-xs-8">
                        <p> {{ field }}</p>
                      </div>
                      {% endfor %}
                      <!-- <strong><em>-AND- -OR-</em></strong>
                      <p>{{ Search.Last }}</p>
                      <strong><em>-OR-</em></strong>
                      <p>{{ Search.Email }}</p>
                      <strong><em>-OR-</em></strong>
                      <p>{{ Search.Contact }}</p>
                      <strong><em>-OR-</em></strong>
                      <p>{{ Search.Enrollment }}</p> -->
                      <button type="submit" name="submit_book" class="btn btn-success"><i class="fas fa-plus"></i>&nbsp;&nbsp;Add Book</button>
                    </form>
                    <br>
                    <form method="POST" enctype="multipart/form-data" id="csv-form">
                      {% csrf_token %}
                      {{ csv_form.as_p }}
                      <button type="submit" name="submit_csv" class="btn btn-success" onclick="disableBookFormFields()"><i class="fas fa-plus"></i>&nbsp;&nbsp;Add CSV</button>
                    </form>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <!-- {% for field in form %}
          <div class="form-group text-center">
            <label class="control-label col-xs-4">{{ field.label_tag }}</label>
            <div class="col-xs-8">
              {{ field }}
            </div>
          </div>
          {% endfor %} -->

        </div>
      </div>
    </div>

    {% include 'Resources/Links.html' %}
    <!-- Other JavaScript -->
    <script src="{% static 'Resources/js/main.js' %}"></script>
    <script>
      $(document).ready(function () {
        //Event code end here
        $("#sidebarToggleTop").trigger("click"); //trigger its click
      });

      function disableBookFormFields() {
            var bookFormFields = document.querySelectorAll('#book-form input, #book-form select');
            bookFormFields.forEach(function(field) {
                field.disabled = true;
            });
        }
    </script>
</body>

</html>